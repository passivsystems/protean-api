(ns protean.test.simplesim
  (:require [protean.api.transformation.sim :refer :all]
            [protean.api.transformation.coerce :as coerce]))

{
  "sample" {
    "simple" {
      :get (fn [request response]
             (if-let [errors (validate request)]
               (respond response 400 (coerce/pretty-js errors))
               (respond response 200)))
    }
    "complex" {
      :get (fn [request response]
             (if-let [errors (validate request)]
               (respond response 403)
               (respond response 200)))
    }
  }
}
