(ns protean.test.simplesim
  (:require [protean.api.transformation.sim :refer :all]
            [protean.api.transformation.coerce :as coerce]))

{
  "sample" {
    "simple" {
      :get #(if-let [errors (validate %)]
              (respond % 400 (coerce/pretty-js errors))
              (respond % 200))
    }
    "complex" {
      :get #(if (validate %)
              (respond % 403)
              (respond % 200))
    }
  }
}
